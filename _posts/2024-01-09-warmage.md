---
layout: 'post'
title: 'War Mage Development'
blurb: 'Inside the Redesign'
permalink: '/posts/warmage'
---

# Intro
Dragon Nest is an action combat MMORPG featuring a fast paced non-targeted combat system that requires quick reactions and combo attacks that can be strung together seamlessly. War Mage is a class that is neither fast nor have combo attacks. As a caster it was a slow stationary turret-like mage that used lasers and beams of light to blast their enemies.

# Conception
War Mage was a class that was often forgotten about prior to its redesign. In a sea of faster casting mages and even faster combo-stringing classes, hardly anyone played War Mage besides a passionate few players. I decided to give it a complete overhaul since I felt that its theme was appealing but the current core gameplay loop was lackluster. While the game had its fair share of mage or casters classes, there weren't any that had fulfilled the fantasy of a light-based mage. I made complete overhauls to gameplay kits before, and while they were usually successful, certain passionate players who enjoyed the original gameplay loop felt that the redesign strayed too far from its predecessor. Learning from that experience, I made sure to keep War Mage similar to its original thematic and gameplay loop while introducing new factors that reinforce and spice up its core mechanics.

# Gameplay Design

## Identifying Problems
While the original design of the class had a strong thematic, it had severe problems that held it back from being enjoyable and satisfying. In a game with complex combat mechanics, there are a lot of factors to consider such as cooldowns, animation locks, boss mechanics, mobility, and more. A classes' kit has everything to do with how they engage with the enemy in front of them.

### Fast Forward
While War Mages generally had moderately long cooldowns, they also had a buffing skill named *Fast Forward*. This skill was the key buff in the original gameplay loop which temporarily reduced the player's cooldowns by 80% and boosted their damage stats. While this can be exhilerating to players at first, it quickly devolves into feeling restrictive. Reducing cooldowns by such a drastic amount turns the gameplay loop into a numbers game of finding the most optimal time-to-cast to damage output skill combination. This makes the majority of the kit redundant as players find the best two skills to spam, namely *Laser Cutter* and *Spectrum Shower*.

![alttext](/assets/images/wm/ff.png)

### Laser Ray
*Laser Ray* was the main damaging skill in the kit prior to the redesign. *Laser Ray* created a beam of light that attacked enemies in front of them, consuming *Laser Energy*, which were generated by hitting enemies with other skills. 

Players spent most of their time holding down the left mouse button to channel the ability as it could be held down as long as you had enough *Laser Energy*. While it was powerful and satisfying at first, it quickly became stale and repetitive as the player spent most of their time just holding down one button.

![alttext](/assets/images/wm/laserray.png)

### Force Shield
War Mage had a passive skill called *Force Shield* that had a chance of activating when they were hit which temporarily granted them a buff that increased their damage dealt and decreased their damage taken. This lead to players intentionally running into certain attacks in an attempt to trigger *Force Shield*. This was problematic and antithetical to skill expressive gameplay since it rewarded players for taking damage.

### Underutilized Kit & Stacking System
War Mage had plenty of skills to choose from but many of them are forgotten about in the face of *Laser Ray*, *Laser Cutter*, and *Spectrum Shower*. The remaining skills were relegated to just generate *Laser Energy*, which made them feel like just another button to press to get *Laser Energy* to cast *Laser Ray*. *Laser Energy* was generated by each hit of certain skills. This meant that skills that hit many times were advantageous and prioritized over low hit count ones. With the way the cooldowns were lining up and the existance of *Fast Forward*, this left some skills almost completely unused.

## Setting Goals

![alttext](/assets/images/wm/doc.png)

### Preserving Visual Identity
It's incredibly important to keep the visual identity of the class. After the redesign, players should still feel like a powerful caster that commanded the power of light to destroy their enemies. Players would also still feel like a turret, planting themselves in a spot, before delivering explosive firepower.

### Engaging Gameplay Loop
Since *Fast Forward* and *Laser Ray* commanded so much of the power budget and casting time in the previous kit, the redesigned War Mage needed to have more interesting options available to them. This would mean reworking the remaining skills in the kit to be detached from *Laser Ray* and making them more independently compelling and valuable on their own.

### Fulfilling the Caster Dream
War Mage was always about utilizing burst windows to dump out as much damage as possible before going back into filler skills. The redesigned War Mage should stay as a burst mage with long cooldowns that dealt a lot of damage with a few weaker skills to fill the gaps. During the rotation, players should feel like they're blowing up the boss' health bar, before receding to a weaker state.

## The Redesign

### Cooldown Control
I decided to outright remove *Fast Forward* since it didn't make much sense thematically as a deliberate caster to just throw out spells like no tomorrow, even if it was temporary. This gave me a lot of options in designing a new ideal burst rotation as it was no longer gated by *Fast Forward*'s restrictive nature.

*Laser Ray* was also changed to have a much longer cooldown and a maximum channel time but deal more damage. This made it take a lot of overall time in the rotation and made each individual cast more impactful. 

### Charging
After redesigning *Laser Ray* and *Fast Forward*, it opened up a lot of space to work with the other skills to give them care and attention. I introduced a new charging system that would serve as the main mechanic of the gameplay loop. Each main skill can now be charged, the longer the player charges the skill, the more damage it will deal up to a maximum of three charges. Skills that were sidelined now have much more of a purpose outside of generating *Laser Energy*. This additional charging time for each skill also doubles as a way to fill in the gap of casting time that would be spent using *Laser Ray*. 

![alttext](/assets/images/wm/charging.jpg)


### Managing Resources
*Laser Energy* was changed to *Radiance*, a new resource that can be generated during **charging states**. The stacking system was also changed from being used to use and extend the duration of *Laser Ray* to casting *Empyrean* versions of main versions. Since the cooldowns of all the kit's skills were increased, this also gave additional time to fill aside from casting the new slower charged versions of skills. I gave War Mage a unique mechanic that allows them to fill up *Radiance* by standing still and channeling energy into their staff. This gave War Mage a unique gameplay loop of casting charged skills, managing their cooldowns, and their Radiance to cast *Empyrean* skills.

### A Replacement for Fast Forward
As a slow casting mage, it was difficult to maintain some of the feeling *Fast Forward* gave as an "enhanced state." I found a solution through creating a system with *Empyrean* skills. *Empyrean* skills can only be cast by consuming *Radiance*. These are special versions of the chargable skills that can be cast quickly without needing to charge, dealing damage equal to the maximum charge cast, and have their own independent cooldown. 

### Rewarding Smart Play
Due to its nature as a stationary class and charging mechanic that leaves them vulnerable. War Mage performs at its best when players that plan ahead, are smartly positioned, and aware of their resources. As such, *Force Shield* was completely redesigned from a passive skill to an active skill. The new skill was called *Flux*, which creates a small field that increases the player's damage dealt while standing inside of it. *Flux* puts players in a situation where they need to plan their positioning ahead of time to effectively set up their burst rotation.

### The Product

This culminated in a completely new gameplay loop that still paid homage to the original identity of the class. There are clear weaknesses in the class. However, they can be overcome with player skill expression that goes beyond how well or fast you can press buttons; as a mage should be. Players who master the class can get a huge amount of satisfaction from firing off the perfect skill rotation, blowing away enemy health bars.

# Visual Design

In early drafts, I slightly drifted away from light-energy-based attacks and laser beams and landed at a more astronomic starry thematic. However, learning from my past mistakes, the final draft leaned into the original thematic to create a powerful light archmage. 

The Dragon Nest always had some great effects or skill concepts but there were always areas that could be improved. The original War Mage used highlighter yellow and orange as its color palette. The colors were painful on the eyes and were far too saturated. For the redesign, I chose to use white and light gold which I felt more was more in tune with "light magic." 

<div style="position:relative; width:100%; height:0px; padding-bottom:56.250%"><iframe allow="fullscreen" allowfullscreen height="100%" src="https://streamable.com/e/pz19pp?nocontrols=1" width="100%" style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe></div>

Most of the spells were completely visually redesigned. Making the most out of War Mage's aesthetic, the skills revolved around manifesting light into different kinds of spells rather than just laser beams. This resulted in javelins of light, floating exploding orbs of energy, pillars of light, raw uninhibited light energy bursting out, and of course, lasers. I also added magic conjuring circles to frame spells and details such as dust particles and smoke for explosions and swirling light energy to illustrate the collection of magical power.

<div style="position:relative; width:100%; height:0px; padding-bottom:56.250%"><iframe allow="fullscreen" allowfullscreen height="100%" src="https://streamable.com/e/nyofhv?nocontrols=1" width="100%" style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe></div>

Another point that was extremely lacking in the past was the usage of camera effects. I gave the most powerful skills impact frames. This detail puts more weight on the spell. Alongside the camera shake, radial blur, and impact frames, I added dynamic camera FoV effects that emphasized the power of each spell.

<div style="position:relative; width:100%; height:0px; padding-bottom:56.250%"><iframe allow="fullscreen" allowfullscreen height="100%" src="https://streamable.com/e/iidkqg?nocontrols=1" width="100%" style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe></div>

## Working Around Constraints
We have a system of tracking stacks using an internal system. As you can see from the Radiance bar below.

![alttext](/assets/images/wm/resourcebar.png)
> Each icon represented a charge level meanwhile the bar indicated the player's stored Radiance.

While there is no real stacking system required to charge skills, I used the system to give the player a way to easily track their current charge level on screen. However, to track charge states, I had to assign an tracker stack that would fill one icon upon reaching a certain charge level. 

![alttext](/assets/images/wm/bubbletable.png)

The game listens for certain criteria to be met and generates or consumes stacks. In this case, the game listens for the players current "action" as *Skill_Awaken_LinearRay_Loop2* for example. While the entire skill could be one action, for this to work, the player must change actions for the criteria to be met and grant one tracker stack, looping up to two additional times for a total of three charge. The final charge state loops the player animation to maintain that charge and allow the player to fire off the skill when they're ready.

![alttext](/assets/images/wm/atlas.png)


# Sound Design
Just like the visual design, it was difficult to get the right sounds since it was very easy to fall into the pitfall of misconstruing light magic for holy magic. I had to combine sounds that are heavy for the explosions alongside light sounds for well, the light effects. Just like the visual effects at each charge stage I mentioned earlier, I also added distinct sound effects for those charge stages.

I needed to evoke certain feelings for each effect. For laser effects, I gathered a library of ringing, spacey, and pulsating sound effects. Explosions needed to be heavy and filled with bass but still maintain the energy-based effects that separate them from traditional explosions. For the raw output of the light energy spell, I put together echoing charging sounds for the formation of the magic circles and wind sounds for the gushing light.

<div style="position:relative; width:100%; height:0px; padding-bottom:56.250%"><iframe allow="fullscreen" allowfullscreen height="100%" src="https://streamable.com/e/q4mexc?nocontrols=1" width="100%" style="border:none; width:100%; height:100%; position:absolute; left:0px; top:0px; overflow:hidden;"></iframe></div>

My favorite skill is the javelin of light. The skill hurls a powerful spear of condensed light energy at the enemy that explodes on contact, creating orbs of light that can be detonated. Picking out the right sound effects for this skill was an absolute pleasure. I needed sounds that were like warping reality to depict the condensing of energy for the javelin formation, a heavy explosion, and space-like sounds for the orbs that formed afterward.

# Conclusion
I had a lot of fun designing and implementing the War Mage rework. There were a lot of challenges and technical If you're interested in taking a look at the full changelog document of the final product, please take a look at [this link](https://docs.google.com/document/d/1TB2TYia7vqY7ySmDo0SyxnvzqWrEIWQ2VkYe7trSZ1c/edit?usp=sharing)